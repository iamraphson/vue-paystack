var __getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__objRest=(e,t)=>{var a={};for(var n in e)__hasOwnProp.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))t.indexOf(n)<0&&__propIsEnum.call(e,n)&&(a[n]=e[n]);return a};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Paystack={},e.Vue)}(this,(function(e,t){"use strict";const a=[];function n(){const e="https://js.paystack.co/v1/inline.js",n=t.reactive({scriptLoaded:!1,scriptError:!1}),r=t.ref(),o=()=>{n.scriptLoaded=!0},c=()=>{const t=a.indexOf(e);t>=0&&a.splice(t,1),r.value&&r.value.remove(),n.scriptError=!0};return t.onBeforeMount((()=>{(()=>{if(a.includes(e))n.scriptLoaded=!0;else{a.push(e);const t=document.createElement("script");r.value=t,r.value.src=e,r.value.async=!0,r.value.addEventListener("load",o),r.value.addEventListener("complete",o),r.value.addEventListener("error",c),document.body.appendChild(r.value)}})()})),t.onUnmounted((()=>{r.value&&(r.value.removeEventListener("load",o),r.value.removeEventListener("error",c))})),n}function r(e){const t=n(),{paystackkey:a,email:r,firstname:o,lastname:c,channels:l,amount:s,access_code:i,reference:u,metadata:d={},currency:p="NGN",plan:y="",quantity:f,split_code:m,split:b,subaccount:v="",transaction_charge:k=0,bearer:_="account",embed:g}=e;return function(n,h){if(console.log("oshoo"),t.scriptError)throw new Error("Unable to load paystack inline script");if(t.scriptLoaded){const t={callback:n||(()=>null),onClose:h||(()=>null),key:a,ref:u,email:r,firstname:o,lastname:c,amount:s,access_code:i,currency:p,plan:y,quantity:f,"data-custom-button":e["data-custom-button"]||"",channels:l,subaccount:v,transaction_charge:k,bearer:_,metadata:d,split:b,split_code:m};g&&(t.container="paystackEmbedContainer");const E=window.PaystackPop.setup(t);g||E.openIframe()}}}var o=(e,t)=>{for(const[a,n]of t)e[a]=n;return e};const c=t.defineComponent({name:"PayStack",props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0,validator:e=>e>0},reference:{type:String,required:!0},channels:{type:Array,default:()=>["card","bank"]},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:e=>e},close:{type:Function,required:!0,default:()=>{}},metadata:{type:Object,default:()=>({})},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:Number,default:1},subaccount:{type:String,default:""},split:{type:Object,default:()=>({})},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},setup(e){const a=e,{close:o,callback:c}=a,l=__objRest(a,["close","callback"]),s=n(),i=r(l),u=()=>{if(l.embed&&s.scriptLoaded&&i(c,o),s.scriptError)throw new Error("Unable to load paystack inline script")};return t.onMounted((()=>{u()})),t.watch(s,(e=>{u()})),{payWithPaystack:i}}}),l=t.createTextVNode("Make Payment"),s={key:1,id:"paystackEmbedContainer"};var i=o(c,[["render",function(e,a,n,r,o,c){return e.embed?(t.openBlock(),t.createElementBlock("div",s)):(t.openBlock(),t.createElementBlock("button",{key:0,class:"payButton",onClick:a[0]||(a[0]=t=>e.payWithPaystack(e.callback,e.close))},[t.renderSlot(e.$slots,"default",{},(()=>[l]))]))}]]);e.default=i,e.usePaystackPayment=r,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
